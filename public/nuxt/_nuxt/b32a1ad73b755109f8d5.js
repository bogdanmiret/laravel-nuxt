(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{677:function(t,e,n){"use strict";n(175);var r=n(176);e.a=Object(r.a)("layout")},724:function(t,e,n){"use strict";n(11),n(8),n(7),n(4),n(9);var r=n(1),o=(n(725),n(14)),c=n(5);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(c.a)(o.a).extend({name:"v-subheader",props:{inset:Boolean},render:function(t){return t("div",{staticClass:"v-subheader",class:v({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},725:function(t,e,n){var content=n(726);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("e8b41e5e",content,!0,{sourceMap:!1})},726:function(t,e,n){(e=n(12)(!1)).push([t.i,".theme--light.v-subheader{color:rgba(0,0,0,.6)}.theme--dark.v-subheader{color:hsla(0,0%,100%,.7)}.v-subheader{align-items:center;display:flex;height:48px;font-size:.875rem;font-weight:400;padding:0 16px}.v-subheader--inset{margin-left:56px}",""]),t.exports=e},892:function(t,e,n){var r=n(893),o=n(900),c=n(753),l=n(902),v=n(910),f=n(911),d=l((function(t,e){var n=f(e);return v(n)&&(n=void 0),v(t)?r(t,o(e,1,v,!0),c(n,2)):[]}));t.exports=d},893:function(t,e,n){var r=n(758),o=n(894),c=n(899),l=n(765),v=n(751),f=n(759);t.exports=function(t,e,n,d){var h=-1,y=o,_=!0,m=t.length,x=[],O=e.length;if(!m)return x;n&&(e=l(e,v(n))),d?(y=c,_=!1):e.length>=200&&(y=f,_=!1,e=new r(e));t:for(;++h<m;){var j=t[h],w=null==n?j:n(j);if(j=d||0!==j?j:0,_&&w==w){for(var A=O;A--;)if(e[A]===w)continue t;x.push(j)}else y(e,w,d)||x.push(j)}return x}},894:function(t,e,n){var r=n(895);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},895:function(t,e,n){var r=n(896),o=n(897),c=n(898);t.exports=function(t,e,n){return e==e?c(t,e,n):r(t,o,n)}},896:function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,c=n+(r?1:-1);r?c--:++c<o;)if(e(t[c],c,t))return c;return-1}},897:function(t,e){t.exports=function(t){return t!=t}},898:function(t,e){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},899:function(t,e){t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},900:function(t,e,n){var r=n(760),o=n(901);t.exports=function t(e,n,c,l,v){var f=-1,d=e.length;for(c||(c=o),v||(v=[]);++f<d;){var h=e[f];n>0&&c(h)?n>1?t(h,n-1,c,l,v):r(v,h):l||(v[v.length]=h)}return v}},901:function(t,e,n){var r=n(694),o=n(710),c=n(678),l=r?r.isConcatSpreadable:void 0;t.exports=function(t){return c(t)||o(t)||!!(l&&t&&t[l])}},902:function(t,e,n){var r=n(719),o=n(903),c=n(905);t.exports=function(t,e){return c(o(t,e,r),t+"")}},903:function(t,e,n){var r=n(904),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var c=arguments,l=-1,v=o(c.length-e,0),f=Array(v);++l<v;)f[l]=c[e+l];l=-1;for(var d=Array(e+1);++l<e;)d[l]=c[l];return d[e]=n(f),r(t,this,d)}}},904:function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},905:function(t,e,n){var r=n(906),o=n(909)(r);t.exports=o},906:function(t,e,n){var r=n(907),o=n(908),c=n(719),l=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:c;t.exports=l},907:function(t,e){t.exports=function(t){return function(){return t}}},908:function(t,e,n){var r=n(683),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},909:function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),c=16-(o-r);if(r=o,c>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},910:function(t,e,n){var r=n(712),o=n(686);t.exports=function(t){return o(t)&&r(t)}},911:function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},947:function(t,e,n){"use strict";n.r(e);n(11),n(8),n(7),n(4),n(9),n(34);var r=n(3),o=n(1),c=n(183),l=n.n(c),v=n(35),f=n(892),d=n.n(f);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var y={components:{FontAwesomeIcon:l.a},data:function(){return{socAccounts:null,saveSocAccBtnIndexForLoading:null}},computed:{notUsedSocAccount:function(){return d()(this.socAccounts,this.$auth.user.socAccounts,"name")}},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({saveSocAcc:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.saveSocAccBtnIndexForLoading=e,r.next=3,n.getRedirectUrl(t);case 3:location.href=r.sent,n.saveSocAccBtnIndexForLoading=null;case 5:case"end":return r.stop()}}),r)})))()}},Object(v.b)(["getSocialiteProviders"]),{},Object(v.b)("authSocialite",["deleteSocAcc","getRedirectUrl"]))},_=n(32),m=n(38),x=n.n(m),O=n(666),j=n(101),w=n(648),A=n(654),S=n(676),$=n(100),P=n(677),k=n(167),E=n(724),component=Object(_.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"justify-center":""}},[n("v-card",{staticStyle:{"border-radius":"20px"}},[t.socAccounts?n("v-layout",{attrs:{"justify-center":"",row:"",wrap:""}},[n("v-flex",{staticClass:"px-2 pb-3",attrs:{sm10:""}},[n("v-subheader",[t._v("\n          Прикрепленные аккаунты\n        ")]),t._v(" "),t.$auth.user.socAccounts.length?n("v-list",{attrs:{"two-line":"",dense:""}},[t._l(t.$auth.user.socAccounts,(function(e,r){return[n("v-list-tile",{key:r},[n("v-list-tile-avatar",{style:"color: "+e.color},[n("font-awesome-icon",{attrs:{icon:["fab",e.icon],size:"3x"}})],1),t._v(" "),n("v-list-tile-content",{style:"color: "+e.color},[t._v("\n                "+t._s(e.name_for_human)+"\n              ")]),t._v(" "),n("v-list-tile-action",[t.$auth.user.password||!t.$auth.user.password&&t.$auth.user.socAccounts.length>1?n("v-btn",{attrs:{text:"",icon:"",large:""},on:{click:function(n){return t.deleteSocAcc({name:e.name,id:e.id})}}},[n("v-icon",{attrs:{color:"red",large:""}},[t._v("delete_forever")])],1):t._e()],1)],1),t._v(" "),n("small",{key:r,staticClass:"grey--text ml-4"},[t._v("\n              Прикреплено "+t._s(t._f("date")(e.pivot.created_at))+"\n              ("+t._s(t.$dayjs().to(t.$dayjs(e.pivot.created_at)))+")\n            ")]),t._v(" "),r+1<t.$auth.user.socAccounts.length?n("v-divider",{key:r}):t._e()]}))],2):t._e(),t._v(" "),n("v-alert",{attrs:{type:"info",value:!t.$auth.user.socAccounts.length}},[t._v("\n          Нет прикрепленных.\n        ")])],1),t._v(" "),n("v-flex",{staticClass:"px-2",attrs:{sm10:""}},[n("v-subheader",[t._v("\n          Можно прикрепить\n        ")]),t._v(" "),t.notUsedSocAccount.length?n("v-list",{attrs:{"two-line":"",dense:""}},[t._l(t.notUsedSocAccount,(function(e,r){return[n("v-list-tile",{key:r},[n("v-list-tile-avatar",{style:"color: "+e.color},[n("font-awesome-icon",{attrs:{icon:["fab",e.icon],size:"3x"}})],1),t._v(" "),n("v-list-tile-content",{style:"color: "+e.color},[t._v("\n                "+t._s(e.name_for_human)+"\n              ")]),t._v(" "),n("v-list-tile-action",[n("v-btn",{attrs:{loading:t.saveSocAccBtnIndexForLoading===r,text:"",icon:"",large:""},on:{click:function(n){return t.saveSocAcc(e.name,r)}}},[n("v-icon",{attrs:{color:"green",large:""}},[t._v("add")])],1)],1)],1),t._v(" "),r+1<t.notUsedSocAccount.length?n("v-divider",{key:r}):t._e()]}))],2):t._e(),t._v(" "),n("v-alert",{attrs:{type:"info",value:!t.notUsedSocAccount.length}},[t._v("\n          Все прикреплено.\n        ")])],1)],1):t._e()],1)],1)}),[],!1,null,null,null),V=component.exports;x()(component,{VAlert:O.a,VBtn:j.a,VCard:w.a,VDivider:A.a,VFlex:S.a,VIcon:$.a,VLayout:P.a,VList:k.a,VSubheader:E.a});var D={transition:"slide-y-transition",scrollToTop:!0,components:{socAccounts:V},computed:{addOrVerifyEmailText:function(){return this.$auth.user.mainEmail?this.$auth.user.mainEmail.verified?void 0:"подтвердить почту":"добавить и подтвердить почту"}}},C=Object(_.a)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[1===t.$auth.user.socAccounts.length?[t.$auth.user.password?!t.$auth.user.activated||1!==t.$auth.user.emails.length||t.$auth.user.mainEmail&&t.$auth.user.mainEmail.verified?t._e():n("v-alert",{staticClass:"mb-3",attrs:{type:"info",value:!0}},[t._v("\n      Если Вы открепите последний аккаунт, то Ваш аккаунт будет не активирован.\n      Чтобы остаться активированным Вам нужно "+t._s(t.addOrVerifyEmailText)+".\n    ")]):n("v-alert",{staticClass:"mb-3",attrs:{type:"info",value:!0}},[t._v("\n      У вас не настроен\n      "),n("router-link",{attrs:{to:"/profile/settings/password"}},[t._v("\n        вход через пароль\n      ")]),t._v("\n      (с помощью почты или ника), это значит что "),n("b",[t._v("мы Вам запретили откреплять последний аккаунт")]),t._v(",\n      иначе Вы не смогли бы входить на сайт.\n    ")],1)]:t._e(),t._v(" "),n("soc-accounts")],2)}),[],!1,null,null,null);e.default=C.exports;x()(C,{VAlert:O.a})}}]);